{% if modal %}
  {% set types = modal.inputs %}
  {% for dialog in modal.dialogs %}
      {% set inputs %}
        <section id="{{dialog}}-modal-details">
          <section id="{{dialog}}-modal-contact">

            {% if _.includes(types, "name") %}
              <label for="{{dialog}}-modal-name">
                <span>Name</span>
                <input type="text" name="name" id="{{dialog}}-modal-name"
                  title="Please enter a full name"
                  placeholder="Full Name ... e.g.: Joe Bloggs" autofocus required>
              </label>          
            {% endif %}

            {% if _.includes(types, "email") %}
              <label for="{{dialog}}-modal-email">
                <span>Email</span>
                <input type="email" name="email" id="{{dialog}}-modal-email"
                  title="Please enter a valid email address"
                  placeholder="e.g.: someone@example.com">
              </label>          
            {% endif %}

            {% if _.includes(types, "mobile") %}
              <label for="{{dialog}}-modal-mobile">
                <span>Mobile</span>
                <input type="text" name="mobile" id="{{dialog}}-modal-mobile"
                  title="Please enter a contact number"
                  placeholder="Mobile Number ... e.g.: 07920 027695">
              </label>  
            {% endif %}

            {% if _.includes(types, "card") %}
              <label for="{{dialog}}-modal-card">
                <span>Card</span>
                <input type="text" name="card" id="{{dialog}}-modal-card"
                  title="Please enter your membership card number"
                  placeholder="e.g. 009999">
              </label>  
            {% endif %}

            {% if _.includes(types, "bio") %}
              <label for="{{dialog}}-modal-bio">
                <span>Bio</span>
                <textarea name="bio" id="{{dialog}}-modal-bio" rows="5" maxlength="2048"
                  title="Please add a biography of the player"
                  placeholder="Say something interesting...."></textarea>
              </label>
            {% endif %}

            {% if _.includes(types, "psa") %}
              <input type="hidden" id="{{dialog}}-modal-psa" name="psa" value="" />
            {% endif %}
            
            {% if _.includes(types, "thumbnail") %}
              <input type="hidden" id="{{dialog}}-modal-thumbnail" name="thumbnail" value="" />
            {% endif %}

            {% if _.includes(types, "db-dates") %}
              <section id="{{dialog}}-modal-db-dates">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-c-circle" viewBox="0 0 16 16">
                  <path d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8Zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0ZM8.146 4.992c-1.212 0-1.927.92-1.927 2.502v1.06c0 1.571.703 2.462 1.927 2.462.979 0 1.641-.586 1.729-1.418h1.295v.093c-.1 1.448-1.354 2.467-3.03 2.467-2.091 0-3.269-1.336-3.269-3.603V7.482c0-2.261 1.201-3.638 3.27-3.638 1.681 0 2.935 1.054 3.029 2.572v.088H9.875c-.088-.879-.768-1.512-1.729-1.512Z"/>
                </svg>
                <input type="text" name="createdAt" value="" readonly>
                <span></span>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up-circle" viewBox="0 0 16 16">
                  <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"/>
                </svg>
                <input type="text" name="updatedAt" value="" readonly>
              </section>
            {% endif %}
          </section>
          {% if _.includes(types, "image") %}
            <section id="{{dialog}}-modal-image" title="{{dialog}} {{target}} image">
              <input type="file" id="{{dialog}}-modal-image-selector" accept="image/*" name="file" hidden>
              <p id="{{dialog}}-modal-image-status"></p>
              <img id="{{dialog}}-modal-image-img" src="">
              {% set button = {name:"image", type: "button", icon: {name: '+'} } %}
              {% include "partials/button.njk" %}
            </section>
          {% endif %}
        </section>
      {% endset %}
      {% set updateModal = _.set(modal, dialog, inputs) %}
  {% endfor %}

{% endif %}
